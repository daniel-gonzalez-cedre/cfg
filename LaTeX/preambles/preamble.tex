\input{config.tex}

\iftufte  % Tufte settings
    \ifbook
        \documentclass[nobib,justified]{tufte-book}
    \else
        \documentclass[justified]{tufte-handout}
        \ifsyllabus
            \usepackage{pgf-pie}
        \fi
    \fi

    \setcounter{secnumdepth}{1}
    \usepackage{microtype}
    \usepackage{arydshln, chngcntr}
\else  % regular LaTeX settings
    \ifbook
        \documentclass[letterpaper]{book}
    \else
        \documentclass[letterpaper]{article}
    \fi
    \usepackage[left=2cm,top=2cm,right=2cm,bottom=2cm,bindingoffset=0cm]{geometry}
    \usepackage[math]{cellspace}
    \cellspacetoplimit 1pt
    \cellspacebottomlimit 1pt
\fi


% math
\usepackage{amsmath, amsfonts, amssymb, amstext, amscd, amsthm, faktor, mathrsfs, mathtools, thmtools, xfrac}
% fonts
\usepackage{bbm, CJKutf8, caption, dsfont, marvosym, stmaryrd}
% tables
\usepackage{booktabs, colortbl, makecell}
% colors
\usepackage{color, soul, xcolor}
% figures
\usepackage{graphicx, float, subcaption, tikz, pgfplots}
% headers and footers
\usepackage{fancyhdr, lastpage}
% miscellaneous
\usepackage{enumerate, ifthen, lipsum, listings, imakeidx, parskip, ulem, verbatim, xargs}
% references
\usepackage{xr-hyper, hyperref, url}
\usepackage[nodayofweek]{datetime}

\usepackage[group-separator={,},group-minimum-digits={3}]{siunitx}
\usepackage[shortlabels]{enumitem}
\setlist[enumerate]{topsep=0ex,
                    itemsep=0ex,
                    partopsep=1ex,
                    parsep=1ex}
\setlist[itemize]{topsep=0ex,
                  itemsep=0ex,
                  partopsep=1ex,
                  parsep=1ex,
                  label=$\cdot$}

\hypersetup{
    colorlinks=true,
    linkcolor=blue,
    citecolor=blue,
    urlcolor=blue
}
% \hypersetup{
    % colorlinks=true,
    % linkcolor=orange,
    % citecolor=red,
    % urlcolor=blue
% }

\allowdisplaybreaks
\newdateformat{verbosedate}{\ordinal{DAY} of \monthname[\THEMONTH], \THEYEAR}
\verbosedate

\pagestyle{fancy}
% \fancyfoot[C]{--~\thepage~--}
\fancyfoot[C]{\tiny \thepage\ / \pageref*{LastPage}}
\ifbook
    \fancypagestyle{plain}{%
        \fancyhead[L]{}
        \ifdate
            \fancyhead[R]{\textsc{\today}}
        \else
            \fancyhead[R]{}
        \fi
        \renewcommand{\headrulewidth}{0pt}
    }

    \let\cleardoublepage=\clearpage
\else
    \fancypagestyle{plain}{}
    \renewcommand{\headrulewidth}{0pt}
\fi

\ifdaggerfootnotes
    \renewcommand{\thefootnote}{\fnsymbol{footnote}}
\else
\fi

\delimitershortfall=-1pt
\normalem

\usepackage{epigraph}
\usepackage{etoolbox}
\makeatletter
% \newlength\epitextskip
\pretocmd{\@epitext}{\em}{}{}
\apptocmd{\@epitext}{\em}{}{}
\patchcmd{\epigraph}{\@epitext{#1}\\}{\vspace{-10ex}\@epitext{#1}\\}{}{}
\makeatother

\setlength\epigraphrule{0pt}
% \setlength\epitextskip{0ex}
\setlength\epigraphwidth{.75\textwidth}
