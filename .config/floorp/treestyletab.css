/* remove animations */
/* @keyframes * {} */
@keyframes tab-burst-animation {}
@keyframes tab-burst-animation-light {}
@keyframes blink {}

:root {
  --tab-height: 32px;
  --tab-width: 160px;
  --closebox-color: #4f4d4d00;
  --closebox-hover-color: #ea6962;
  --twisty-color: #4f4d4d00;
  --twisty-hover-color: #7daea3;
}

@media (prefers-color-scheme: dark) {
  :root {
    --label-color: #e2cca9;  /* #ebdbb2; #d4be98; */
    --background-color: #1b1b1b;
    --tab-active-background-color: #32302f;
    --tab-background-color: #1b1b1b;
    --tab-item-hover-background-color: #3c3836;
    --tab-item-substance-background-color: #1d2021;
    --tab-item-substance-border-color: #000000;
  }
}
@media (prefers-color-scheme: light) {
  :root {
    --label-color: #121212;
    --background-color: #ffffff;
    --tab-active-background-color: #f0f0f0;
    --tab-item-hover-background-color: #f0f0f0;
    --tab-item-substance-background-color: #ffffff;
    --tab-item-substance-border-color: #00000025;
  }
}


:root, #background { background: var(--background-color); }
:root.sidebar .label-content { color: var(--label-color) !important; }

/* tabbar styling */
/* :root.left #tabbar, #tabContextMenu, #tabContextMenu ul { margin: 0px; } */
#tabbar {
  overflow-x: hidden;
  overflow-y: hidden;
  top: 0px !important;
  left: 0px !important;
  right: 0px !important;
  bottom: 5px !important;
  margin: 0px 0px 0px 0px;
  padding: 0px 0px 0px 0px;
}
#normal-tabs-container { scrollbar-width: none; }  /* remove scroll bar */

/* tab styling */
#tabbar .tab {
  height: var(--tab-height);
  margin: 0px 0px 0px 0px;
  padding: 0px 0px 0px 0px;
  transition: 0.25s width;
}
#tabbar:not(:hover) .tab {
  /*width: 34px;*/
}

/* tab background styling */
#tabbar .tab .background {
  background: var(--tab-background-color);
  margin: 2px;
  padding: 5px;
  border-radius: 6px;
  transition: 0.25s background;
}
#tabbar .tab.active .background { background: var(--tab-active-background-color); }
#tabbar .tab.active:hover tab-item-substance {
  background: var(--tab-active-background-color);
  transition: 0.25s background;
}
#tabbar .tab.active:hover .background {
  /* background: var(--tab-active-background-color); */
}
#tabbar tab-item:hover tab-item-substance { background: var(--tab-item-hover-background-color); }

/* tab item styling */
#tabbar tab-item { }

/* tab item substance styling */
#tabbar tab-item-substance {
  background-color: var(--tab-item-substance-background-color);
  padding: 5px;
  border-radius: 8px;
  border: solid 1px var(--tab-item-substance-border-color);
  transition: all 0.25s !important;
}
#tabbar tab-item tab-item-substance:hover { }
#tabbar:hover tab-item[data-level][data-level="0"]  tab-item-substance { margin-left: 5px  !important; }
#tabbar:hover tab-item[data-level][data-level="1"]  tab-item-substance { margin-left: 9px  !important; }
#tabbar:hover tab-item[data-level][data-level="2"]  tab-item-substance { margin-left: 13px !important; }
#tabbar:hover tab-item[data-level][data-level="3"]  tab-item-substance { margin-left: 17px !important; }
#tabbar:hover tab-item[data-level][data-level="4"]  tab-item-substance { margin-left: 21px !important; }
#tabbar:hover tab-item[data-level][data-level="5"]  tab-item-substance { margin-left: 25px !important; }
#tabbar:hover tab-item[data-level][data-level="6"]  tab-item-substance { margin-left: 29px !important; }
#tabbar:hover tab-item[data-level][data-level="7"]  tab-item-substance { margin-left: 33px !important; }
#tabbar:hover tab-item[data-level][data-level="8"]  tab-item-substance { margin-left: 37px !important; }
#tabbar:hover tab-item[data-level][data-level="9"]  tab-item-substance { margin-left: 41px !important; }
#tabbar:hover tab-item[data-level][data-level="10"] tab-item-substance { margin-left: 45px !important; }
#tabbar:hover tab-item[data-level][data-level="11"] tab-item-substance { margin-left: 49px !important; }
#tabbar:hover tab-item[data-level][data-level="12"] tab-item-substance { margin-left: 53px !important; }
#tabbar:hover tab-item[data-level][data-level="13"] tab-item-substance { margin-left: 57px !important; }
#tabbar:hover tab-item[data-level][data-level="14"] tab-item-substance { margin-left: 61px !important; }
#tabbar:hover tab-item[data-level] tab-item-substance { margin-right: 0px; }
#tabbar:not(:hover) tab-item[data-level][data-level="0"]  tab-item-substance { margin-left: 5px  !important; }
#tabbar:not(:hover) tab-item[data-level][data-level="1"]  tab-item-substance { margin-left: 9px  !important; }
#tabbar:not(:hover) tab-item[data-level][data-level="2"]  tab-item-substance { margin-left: 13px !important; }
#tabbar:not(:hover) tab-item[data-level][data-level="3"]  tab-item-substance { margin-left: 17px !important; }
#tabbar:not(:hover) tab-item[data-level][data-level="4"]  tab-item-substance { margin-left: 21px !important; }
#tabbar:not(:hover) tab-item[data-level][data-level="5"]  tab-item-substance { margin-left: 25px !important; }
#tabbar:not(:hover) tab-item[data-level][data-level="6"]  tab-item-substance { margin-left: 29px !important; }
#tabbar:not(:hover) tab-item[data-level][data-level="7"]  tab-item-substance { margin-left: 33px !important; }
#tabbar:not(:hover) tab-item[data-level][data-level="8"]  tab-item-substance { margin-left: 37px !important; }
#tabbar:not(:hover) tab-item[data-level][data-level="9"]  tab-item-substance { margin-left: 41px !important; }
#tabbar:not(:hover) tab-item[data-level][data-level="10"] tab-item-substance { margin-left: 45px !important; }
#tabbar:not(:hover) tab-item[data-level][data-level="11"] tab-item-substance { margin-left: 49px !important; }
#tabbar:not(:hover) tab-item[data-level][data-level="12"] tab-item-substance { margin-left: 53px !important; }
#tabbar:not(:hover) tab-item[data-level][data-level="13"] tab-item-substance { margin-left: 57px !important; }
#tabbar:not(:hover) tab-item[data-level][data-level="14"] tab-item-substance { margin-left: 61px !important; }
#tabbar:not(:hover) tab-item[data-level] tab-item-substance { margin-right: 0px; }

/* tab label content styling */
.label-content {
  margin: 0px;
  padding: 0px;
  font-size: 12px;
  line-height: var(--tab-height);
}

/* tab favicon stylings */
#tabbar tab-item.active tab-favicon { filter: grayscale(0); }  /* full color favicons on active tab */
#tabbar tab-item:hover tab-favicon { opacity: 0; }  /* hide favicons on hover */
#tabbar tab-item tab-favicon {
  margin: 0px 6px 0px 2px;
  transition: 0.25s opacity;
}

/* styling for unread and discarded tabs */
.unread .label-content, .discarded .label-content { opacity: 0.666; }
#tabbar .unread tab-favicon, #tabbar .discarded tab-favicon { opacity: 0.333; }
#tabbar .unread:hover tab-favicon, #tabbar .discarded:hover tab-favicon { opacity: 0; }

/* blank tab  and loading behavior */
#tabbar .loading tab-favicon { visibility: collapse !important; }
#tabbar .loading .label-content { visibility: collapse !important; }

#tabbar tab-item:-moz-any(
  [data-current-uri*="blanktab"],
  [data-current-uri="about:home"],
  [data-current-uri="about:blank"],
  [data-current-uri="about:newtab"]
) tab-favicon { visibility: collapse !important; }

#tabbar tab-item:-moz-any(
  [data-current-uri*="blanktab"],
  [data-current-uri="about:home"],
  [data-current-uri="about:blank"],
  [data-current-uri="about:newtab"]
) .label-content { visibility: collapse !important; }

#tabbar tab-item.loading:-moz-any(
  [data-current-uri*="blanktab"],
  [data-current-uri="about:home"],
  [data-current-uri="about:blank"],
  [data-current-uri="about:newtab"]
) tab-favicon { visibility: collapse !important; }

#tabbar tab-item.loading:-moz-any(
  [data-current-uri*="blanktab"],
  [data-current-uri="about:home"],
  [data-current-uri="about:blank"],
  [data-current-uri="about:newtab"]
) .label-content { visibility: collapse !important; }

/* [x] closebox styling for closing tabs */
#tabbar tab-item tab-closebox {
  order: -1;
  margin: 0px -19px 0px 1px;
  padding: 1px;
  border-radius: 4px;
  transition: 0.25s opacity;
}
#tabbar tab-item tab-closebox:not(:hover) {
  opacity: 0.5;
  background: var(--closebox-color);
}
#tabbar tab-item tab-closebox:hover { background: var(--closebox-hover-color); }
#tabbar .tab:not(:hover) .closebox { opacity: 0; }
#tabbar .tab:hover .closebox { }

/* [>] twisty styling for collapsed tab trees */
#tabbar tab-twisty::before { margin: 1px 0px -1px 0px; }
#tabbar tab-twisty {
  order: 10000;
  padding: 0px;
  margin: 0px;
  color: var(--twisty-color);
  border-radius: 4px;
  transition: all 0.25s;
}
#tabbar .tab:not(:hover) tab-twisty {
  opacity: 0;
}
#tabbar .tab:hover tab-twisty:not(:hover) {
  opacity: 0.5;
}
#tabbar .tab:hover tab-twisty:hover {
  background: var(--twisty-hover-color);
  opacity: 1;
}

/* tab counter styling for collapsed tab trees */
#tabbar tab-item tab-counter {
  display: none !important;
  visibility: collapse !important;
}

/* remove active tab indicator bar */
:root .tab .highlighter {
  visibility: collapse !important;
  display: none;
  opacity: 0;
}
#tabbar tab-item.active .contextual-identity-marker {
  visibility: collapse !important;
  display: none !important;
  opacity: 0;
}

/* hide new tab button */
.after-tabs { display: none !important; }
.after-tabs button { display: none !important; }
.newtab-button { display: none !important; }
.newtab-button-box { display: none !important; }
